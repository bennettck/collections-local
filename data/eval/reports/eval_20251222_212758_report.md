# Retrieval Evaluation Report (Multi-Search Comparison)

**Run ID**: eval_20251222_212758
**Timestamp**: 2025-12-22T21:27:58.565031+00:00
**API Endpoint**: http://localhost:8000
**Dataset**: retrieval_evaluation_dataset.json (50 queries)
**Search Types**: vector, vector-lc
**Parallel Execution**: Yes
**Target Items**: 55 | **Actual Items**: 55 ✓

---

## Search Configuration

Runtime configuration captured at evaluation time:

### vector

| Parameter | Value |
|-----------|-------|
| **Algorithm** | Cosine similarity |
| **Implementation** | Native sqlite-vec |
| **Embedding Model** | voyage-3.5-lite |
| **Content Field** | Unified content field (no field weighting) |


### vector-lc

| Parameter | Value |
|-----------|-------|
| **Algorithm** | L2 (Euclidean) distance |
| **Implementation** | TRUE LangChain Chroma vector store |
| **Embedding Model** | voyage-3.5-lite |
| **Content Field** | Unified content field (no field weighting) |


---

## Performance Comparison

| Search Type | Avg Time (ms) | Min (ms) | Max (ms) |
|-------------|---------------|----------|----------|
| **vector** | 86.8 | 79.7 | 107.1 |
| **vector-lc** | 92.8 | 77.9 | 263.1 |

---

## Summary Metrics Comparison

### Precision

| Metric | **vector** | **vector-lc** | Δ (abs) | Δ (%) | Winner |
|--------|------|------|---------|-------|--------|
| **@1** | 0.976 | 0.952 | -0.024 | -2.4% | VECTOR |
| **@3** | 0.595 | 0.579 | -0.016 | -2.7% | VECTOR |
| **@5** | 0.419 | 0.400 | -0.019 | -4.5% | VECTOR |
| **@10** | 0.226 | 0.217 | -0.010 | -4.2% | VECTOR |


### Recall

| Metric | **vector** | **vector-lc** | Δ (abs) | Δ (%) | Winner |
|--------|------|------|---------|-------|--------|
| **@1** | 0.578 | 0.570 | -0.008 | -1.4% | VECTOR |
| **@3** | 0.833 | 0.819 | -0.014 | -1.7% | VECTOR |
| **@5** | 0.906 | 0.881 | -0.025 | -2.7% | VECTOR |
| **@10** | 0.942 | 0.917 | -0.025 | -2.6% | VECTOR |


### NDCG

| Metric | **vector** | **vector-lc** | Δ (abs) | Δ (%) | Winner |
|--------|------|------|---------|-------|--------|
| **@1** | 0.976 | 0.952 | -0.024 | -2.4% | VECTOR |
| **@3** | 0.900 | 0.884 | -0.016 | -1.7% | VECTOR |
| **@5** | 0.916 | 0.894 | -0.021 | -2.3% | VECTOR |
| **@10** | 0.935 | 0.914 | -0.021 | -2.3% | VECTOR |


### Mean Reciprocal Rank (MRR)

| Search Type | MRR | Δ vs best | Winner |
|-------------|-----|-----------|--------|
| **vector** | 0.981 | - | ✓ |
| **vector-lc** | 0.957 | -0.024 |  |

---

## Agreement Analysis

### Rank-1 Agreement
- **100.0%** of queries return the same top result
- Based on 41 comparable queries

### Top-K Overlap (Jaccard Similarity)
- **Top-3 Average**: 0.79 (79% overlap in top 3 results)
- **Top-5 Average**: 0.67 (67% overlap in top 5 results)

---

## Per-Query Search Type Comparison

### Agreement Summary
- Queries with same rank-1: 41/42 (97.6%)
- Queries where vector-lc won: 0/42 (0.0%)
- Queries where vector won: 0/42 (0.0%)
- Ties: 41/42 (97.6%)

---

## By Query Type Comparison

### multi-item-recall

| Metric | **vector** | **vector-lc** | Winner |
|--------|------|------|--------|
| P@5 | 0.61 | 0.57 | VECTOR |
| R@5 | 0.89 | 0.84 | VECTOR |
| MRR | 1.00 | 1.00 | VECTOR |


### semantic

| Metric | **vector** | **vector-lc** | Winner |
|--------|------|------|--------|
| P@5 | 0.45 | 0.43 | VECTOR |
| R@5 | 0.81 | 0.78 | VECTOR |
| MRR | 0.93 | 0.85 | VECTOR |


### single-item-precision

| Metric | **vector** | **vector-lc** | Winner |
|--------|------|------|--------|
| P@5 | 0.20 | 0.20 | VECTOR |
| R@5 | 1.00 | 1.00 | VECTOR |
| MRR | 1.00 | 1.00 | VECTOR |

